function range(e,a){for(var t=[],i=e;a>i;i++)t.push(i);return t}var BASE_SHIFT=0,TITLE_SHIFT=1,TITLES={first:"First",prev:"«",prevSet:"...",nextSet:"...",next:"»",last:"Last"},Pager=React.createClass({displayName:"Pager",propTypes:{current:React.PropTypes.number.isRequired,total:React.PropTypes.number.isRequired,visiblePages:React.PropTypes.number.isRequired,titles:React.PropTypes.object,onPageChanged:React.PropTypes.func,onPageSizeChanged:React.PropTypes.func},handleFirstPage:function(){this.isPrevDisabled()||this.handlePageChanged(BASE_SHIFT)},handlePreviousPage:function(){this.isPrevDisabled()||this.handlePageChanged(this.props.current-TITLE_SHIFT)},handleNextPage:function(){this.isNextDisabled()||this.handlePageChanged(this.props.current+TITLE_SHIFT)},handleLastPage:function(){this.isNextDisabled()||this.handlePageChanged(this.props.total-TITLE_SHIFT)},handleMorePrevPages:function(){var e=this.calcBlocks();this.handlePageChanged(e.current*e.size-TITLE_SHIFT)},handleMoreNextPages:function(){var e=this.calcBlocks();this.handlePageChanged((e.current+TITLE_SHIFT)*e.size)},handlePageChanged:function(e){var a=this.props.onPageChanged;a&&a(e)},calcBlocks:function(){var e=this.props,a=e.total,t=e.visiblePages,i=e.current+TITLE_SHIFT,n=Math.ceil(a/t),s=Math.ceil(i/t)-TITLE_SHIFT;return{total:n,current:s,size:t}},isPrevDisabled:function(){return this.props.current<=BASE_SHIFT},isNextDisabled:function(){return this.props.current>=this.props.total-TITLE_SHIFT},isPrevMoreHidden:function(){var e=this.calcBlocks();return e.total===TITLE_SHIFT||e.current===BASE_SHIFT},isNextMoreHidden:function(){var e=this.calcBlocks();return e.total===TITLE_SHIFT||e.current===e.total-TITLE_SHIFT},visibleRange:function(){var e=this.calcBlocks(),a=e.current*e.size,t=this.props.total-a,i=a+(t>e.size?e.size:t);return[a+TITLE_SHIFT,i+TITLE_SHIFT]},getTitles:function(e){var a=this.props.titles||{};return a[e]||TITLES[e]},render:function(){var e=this.getTitles;return React.createElement("nav",null,React.createElement(Page,{className:"pagination-btn",key:"pagination-first-page",isDisabled:this.isPrevDisabled(),onClick:this.handleFirstPage},e("first")),React.createElement(Page,{className:"pagination-btn",key:"pagination-prev-page",isDisabled:this.isPrevDisabled(),onClick:this.handlePreviousPage},e("prev")),React.createElement(Page,{className:"pagination-btn",key:"pagination-prev-more",isHidden:this.isPrevMoreHidden(),onClick:this.handleMorePrevPages},e("prevSet")),this.renderPages(this.visibleRange()),React.createElement(Page,{className:"pagination-btn",key:"pagination-next-more",isHidden:this.isNextMoreHidden(),onClick:this.handleMoreNextPages},e("nextSet")),React.createElement(Page,{className:"pagination-btn",key:"pagination-next-page",isDisabled:this.isNextDisabled(),onClick:this.handleNextPage},e("next")),React.createElement(Page,{className:"pagination-btn",key:"pagination-last-page",isDisabled:this.isNextDisabled(),onClick:this.handleLastPage},e("last")))},renderPages:function(e){var a=this;return range(e[0],e[1]).map(function(e,t){var i=e-TITLE_SHIFT,n=a.handlePageChanged.bind(null,i),s=a.props.current===i;return React.createElement(Page,{key:t,isActive:s,className:"pagination-btn",onClick:n},e)})}}),Page=React.createClass({displayName:"Page",render:function(){var e=this.props;if(e.isHidden)return null;var a=e.className?e.className+" ":"",t=a+(e.isActive?"active":"")+(e.isDisabled?" disabled":"");return React.createElement("button",{key:this.props.key,className:t,onClick:this.props.onClick},this.props.children)}});window.Pager=window.Pager||Pager;